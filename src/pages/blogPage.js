import MyFooter from "@/components/Footer";
import { getAllPublished,  } from "@/lib/notion";
import Head from "next/head";
import { Container,Text,Link,Card, Spacer,Grid } from "@nextui-org/react";

import ResponsiveNavBar from "@/components/ResponsiveNavbar";



 function BlogPage({posts}) {
    if(!posts) return <h1>No posts</h1>
    return (
      <div >
        <Head>
          <title>PK|Blog</title>
          <meta name="description" content="Generated by create next app" />
          <link rel="icon" href="/pkSite_favicon.png" />
        </Head>

        <ResponsiveNavBar/>

        <Container>
      
        <main >
        
      {/* <MyNavBar/> */}
      
    
          <Spacer/>
          <div>
          {posts.map((post, index) => (
            <div key={index}css={{width:"60%"}}  >
            
            <Card>
                <Card.Header>
                <Link href={`/posts/${post.slug}`}><Text css={{fontSize:"20px",color:"gray900"}}>{post.title}</Text>
                  {/* <a >{post.title}</a> */}
                  
                  </Link>
                </Card.Header>
                <Card.Divider/>
                <Card.Body>
                <Text css={{color:"$gray600"}}>{post.date}</Text>
                <Text color="default">{post.description} ...</Text>
                </Card.Body>
                <Card.Footer>
                <Grid.Container gap={2} display="flex" direction="Row" justify="center">
                  <Link css={{fontSize:"12px"}} href={`/posts/${post.slug}`}>Read More..</Link>
                  </Grid.Container>
                </Card.Footer>
            </Card>

              <Spacer/>
            </div>
          ))}
          </div>
         

        </main>
        </Container>
        
        <footer >
        <MyFooter/>
        </footer>
       
      </div>
    )
  }

    export const getStaticProps = async()=>{
        const data = await getAllPublished()
            return{
                props:{
                    posts: data
                },
                revalidate: 60
            };
        

    }

    export default BlogPage;


 